==========
{"type":"service_template","subtype":"container","name":"axscm-checkout","description":"Checks out a source repository to /src","cost":0,"container":{"resources":{"mem_mib":256,"cpu_cores":0.1,"disk_gb":0},"image":"get.applatix.io/applatix/axscm:v1","docker_options":"","command":"axscm clone %%repo%% /src --commit %%commit%%"},"inputs":{"parameters":{"commit":{"default":"%%session.commit%%"},"repo":{"default":"%%session.repo%%"}}},"outputs":{"artifacts":{"code":{"path":"/src"}}}}

==========
{"type":"service_template","subtype":"container","name":"node","description":"Container with installed Node JS","cost":0,"container":{"resources":{"mem_mib":2048,"cpu_cores":0.4,"disk_gb":2},"image":"docker.io/library/node:6.3.1","docker_options":"","command":"%%CMD%%"},"inputs":{"artifacts":[{"path":"/src","from":"%%checkout_artifact%%"}],"parameters":{"CMD":{"description":"The command to be run inside the container."},"checkout_artifact":{"description":"The src artifact coming from code checkout."}}},"outputs":{"artifacts":{"code":{"path":"/src"}}}}

==========
{"type":"service_template","subtype":"workflow","name":"node-checkout-build","description":"Checkout then build","cost":0,"inputs":{"parameters":{"commit":{"default":"%%session.commit%%"},"repo":{"default":"%%session.repo%%"}}},"outputs":{"artifacts":{"CODE":{"service_id":"%%service.checkout.id%%","name":"code"}}},"steps":[{"checkout":{"template":{"type":"service_template","subtype":"container","name":"axscm-checkout","description":"Checks out a source repository to /src","cost":0,"container":{"resources":{"mem_mib":256,"cpu_cores":0.1,"disk_gb":0},"image":"get.applatix.io/applatix/axscm:v1","docker_options":"","command":"axscm clone %%repo%% /src --commit %%commit%%"},"inputs":{"parameters":{"commit":{"default":"%%session.commit%%"},"repo":{"default":"%%session.repo%%"}}},"outputs":{"artifacts":{"code":{"path":"/src"}}}},"parameters":{"commit":"","repo":""},"status":0,"cost":0,"create_time":0,"launch_time":0,"end_time":0,"wait_time":0,"run_time":0,"average_runtime":0}},{"build":{"template":{"type":"service_template","subtype":"container","name":"node","description":"Container with installed Node JS","cost":0,"container":{"resources":{"mem_mib":2048,"cpu_cores":0.4,"disk_gb":2},"image":"docker.io/library/node:6.3.1","docker_options":"","command":"%%CMD%%"},"inputs":{"artifacts":[{"path":"/src","from":"%%checkout_artifact%%"}],"parameters":{"CMD":{"description":"The command to be run inside the container."},"checkout_artifact":{"description":"The src artifact coming from code checkout."}}},"outputs":{"artifacts":{"code":{"path":"/src"}}}},"parameters":{"CMD":"sh -c 'cd /src \u0026\u0026 npm set progress=false \u0026\u0026 npm install --unsafe-perm \u0026\u0026 npm run build:prod'","checkout_artifact":"%%steps.checkout.code%%"},"status":0,"cost":0,"create_time":0,"launch_time":0,"end_time":0,"wait_time":0,"run_time":0,"average_runtime":0}}]}

